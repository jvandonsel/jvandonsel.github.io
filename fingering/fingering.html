
<html>

  <head>
    <title>Concertina Fingering</title>
    <script src="fingering.js" type="text/javascript"></script>
    <script src="abcjs_editor_1.5-min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="style.css"/>
  </head>
  <body>
    <h3>Anglo Concertina Fingering Generator</h3>
    <p>Updated February 10, 2019
    <p>Notes:
      <ul>
        <li>Only supports C/G Jeffies and Wheatstone layouts right now.
        <li>Fingering choices are still not optimal. For example, bellows usage is ignored. More work is needed here.
      </ul>

      <h3>Instructions</h3>
      <div class="instructions">
        <p>Paste an ABC style tune into the box below, then hit "Generate Fingerings". 
        <p>Then copy the resulting annotated ABC into your clipboard and use it on many of the fine PDF generator sites for ABC notation.  
          My personal favorite is <a href='http://drawthedots.com/'>Draw The Dots</a>.
        <p>For button notation, see the <a href='button-notation.png'>Button Notation Chart</a></p>
      </div>
    <br>
    ABC Input:<br>

    <textarea id="input">
X: 1
T: The Ebb Tide
R: hornpipe
M: 4/4
L: 1/8
K: Gmaj
|:dc|BdAB GABc|BG ~G2 G2 bg|fdcA BcdB|cABG =F2 dc|
(3BdB (3ABA GABc|defa g2 (3efg|fdcB cedc|(3BdB G2 G2:|
|:ga|bgdB gBdB|GBdB gBbB|aAcA =fAcA|DAcA =fAcA|
BdAB GABc|defa g2 (3efg|fdcB cedc|(3BdB G2 G2:|
   </textarea>

    <br><br>
    <button onClick="var abc=document.getElementById('input').value;
                     abc+= '\nN: Fingerings generated by https://jvandonsel.github.io/fingering/fingering.html';
                     var annotateBellows=document.getElementById('annotateBellows').checked;
                     var result=finger(abc, annotateBellows);
                     document.getElementById('output').value=result;
	             abc_editor = new ABCJS.Editor('output', { paper_id: 'paper0', warnings_id:'warnings' });">
      Generate Fingerings</button>
        <select  id="layout" onchange="setButtonToNoteMap();">
            <option value="CGJeffries">C/G Jeffries</option>
            <option value="CGWheatstone">C/G Wheatstone</option>
        </select>  
        &nbsp;&nbsp;
        <input type="checkbox" id="annotateBellows">Annotate bellows directions ('P'=Push, 'D'=Draw)<br>
      <br><br>
    ABC Output, with fingerings:<br>
    <textarea id="output"></textarea>
<br><br>
<div id="warnings"></div>
<div id="paper0"></div>

<script type="text/javascript">
	window.onload = function() {
		//abc_editor = new ABCJS.Editor("output", { paper_id: "paper0",warnings_id:"warnings" });
        }
</script>

    <br><br>
    <hr>
    <p>Graphical music rendering is courtesy of the excellent <a href=' https://code.google.com/p/abcjs/'>abcjs library</a>.
    <p>Comments: jim@jimandbarb.DELETETHISPART.net
  </body>

</html>
